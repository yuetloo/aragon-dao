(this["webpackJsonparagon-dao"]=this["webpackJsonparagon-dao"]||[]).push([[0],{182:function(e,n,t){},185:function(e,n){},354:function(e,n,t){"use strict";t.r(n);var r=t(1),a=t.n(r),i=t(31),c=t.n(i),s=(t(182),t(7)),o=t.n(s),u=t(98),d=t(88),l=t(73),b=new Map([["Ethereum",{rpcUrl:"https://mainnet.infura.io/v3/7c338dd2f00a443c906e6f081cf11b07",explorerUrl:"https://etherscan.io",apiUrl:"https://api.etherscan.io/api",apiKey:"HCDV8YBBWDK369IPAA8QMBE2DIEP94CEB7",subgraphUrl:"https://api.thegraph.com/subgraphs/name/yuetloo/aragon-dao-mainnet",aragonIdAddress:"0x546aA2EaE2514494EeaDb7bbb35243348983C59d",fromBlock:6593032}],["Polygon",{rpcUrl:"https://polygon-mainnet.g.alchemy.com/v2/SY5Q3m-zAgxioTcOuGcAmJGns4JHYtmV",explorerUrl:"https://polygonscan.com",apiUrl:"https://api.polygonscan.com/api",apiKey:"2TQMPNQB5UPFE1IVIW53ZBB1WVXQD6A29P",subgraphUrl:"https://api.thegraph.com/subgraphs/name/yuetloo/aragon-dao-polygon",aragonIdAddress:"0xB1b9fB937A11873380b3B87a1eF8063a66e54822",fromBlock:18617853}]]),p=t(13),h=t(14),f=t(65),g=function(){function e(n){Object(p.a)(this,e),this.networkType=void 0,this.network=void 0,this.networkType=n,this.network=b.get(n)}return Object(h.a)(e,[{key:"getDomains",value:function(e,n){return f.a.utils.fetchJson(this.network.subgraphUrl,JSON.stringify(function(e,n){return{query:"\n  {\n    domains(first: ".concat(e,", skip: ").concat(n,", orderBy: blockNumber, orderDirection: desc)\n    {\n      id\n      name\n      txInput\n      blockNumber\n      createdAt\n    }\n  }\n  ")}}(e,n))).then((function(e){var n;return(null===(n=e.data)||void 0===n?void 0:n.domains)?e.data.domains.map((function(e){return{blockNumber:e.blockNumber,hash:e.id,data:e.txInput,name:e.name,timestamp:new Date(1e3*parseInt(e.createdAt))}})):[]}))}},{key:"getLatestBlock",value:function(){return new f.a.providers.JsonRpcProvider(this.network.rpcUrl).getBlockNumber()}}],[{key:"getExplorerUrlByTransaction",value:function(e){var n=arguments.length>1&&void 0!==arguments[1]?arguments[1]:"",t=b.get(e);return t?"".concat(t.explorerUrl,"/tx/").concat(n):""}}]),e}(),m=new Map([["0x350cbe71",new f.a.utils.Interface(["function finalizeInstance(string id, uint256[2] _virtualSupplies, uint256[2] _virtualBalances, uint256[2] _slippages, uint256 _rateDAI, uint256 _floorDAI)"])],["0x8a29ac04",new f.a.utils.Interface(["function newTokenAndInstance(string _tokenName, string _tokenSymbol, string id, address[] _members, uint64[3] _votingSettings, uint64 _financePeriod, bool _useAgentAsVault)"])],["0x885b48e7",new f.a.utils.Interface(["function newTokenAndInstance(\n              string _tokenName,\n              string _tokenSymbol,\n              string id,\n              address[] _holders,\n              uint256[] _stakes,\n              uint64[3] _votingSettings,\n              uint64 _financePeriod,\n              bool _useAgentAsVault\n      )"])],["0x0eb8e519",new f.a.utils.Interface(["function newInstance(\n    string id,\n    address[] memory _holders,\n    uint256[] memory _stakes,\n    uint64[3] memory _votingSettings,\n    uint64 _financePeriod,\n    bool _useAgentAsVault\n  )"])],["0xa0fd20de",new f.a.utils.Interface(["function newInstance(string id, address[] signers, uint256 neededSignatures)"])]]),j=t(40),x=function(e){return e+".aragonid.eth"};var k=function(e){var n=e.timestamp,t=e.networkName,a=e.hash,i=e.data,c=Object(r.useState)(""),s=Object(d.a)(c,2),b=s[0],p=s[1];return Object(r.useEffect)((function(){var e=!1;function n(){return(n=Object(u.a)(o.a.mark((function n(){var t,r,a;return o.a.wrap((function(n){for(;;)switch(n.prev=n.next){case 0:t=i.slice(0,10),(r=m.get(t))&&(a=r.decodeFunctionData(r.fragments[0].name,i),e||p(x(a.id)));case 3:case"end":return n.stop()}}),n)})))).apply(this,arguments)}return function(){n.apply(this,arguments)}(),function(){e=!0}}),[i]),Object(j.jsxs)("tr",{children:[Object(j.jsx)("td",{children:n.toDateString()}),Object(j.jsx)("td",{children:Object(j.jsx)(l.Link,{href:g.getExplorerUrlByTransaction(t,a),children:a})}),Object(j.jsx)("td",{children:Object(j.jsx)("span",{children:b})})]})},O=Array.from(b.keys()),v=1e3;var y=function(){var e=Object(r.useState)([]),n=Object(d.a)(e,2),t=n[0],a=n[1],i=Object(r.useState)(0),c=Object(d.a)(i,2),s=c[0],p=c[1];Object(r.useEffect)((function(){var e=!1;function n(){return(n=Object(u.a)(o.a.mark((function n(){var t,r,i,c,u;return o.a.wrap((function(n){for(;;)switch(n.prev=n.next){case 0:if(t=O[s],b.get(t)){n.next=4;break}return n.abrupt("return");case 4:r=new g(t),a([]),i=0,c=!0,u=o.a.mark((function n(){var t;return o.a.wrap((function(n){for(;;)switch(n.prev=n.next){case 0:return n.next=2,r.getDomains(v,i);case 2:if(t=n.sent,i+=v,0!==t.length){n.next=6;break}return n.abrupt("return","break");case 6:if(!e){n.next=8;break}return n.abrupt("return","break");case 8:a((function(e){return e.concat(t)}));case 9:case"end":return n.stop()}}),n)}));case 9:return n.delegateYield(u(),"t0",10);case 10:if("break"!==n.t0){n.next=13;break}return n.abrupt("break",14);case 13:if(c){n.next=9;break}case 14:case"end":return n.stop()}}),n)})))).apply(this,arguments)}return function(){n.apply(this,arguments)}(),function(){e=!0}}),[s]);var h=Object(r.useCallback)((function(e){p(e),a([])}),[]);return Object(j.jsx)("div",{className:"scroll-view-container",children:Object(j.jsx)("div",{className:"scroll-view",children:Object(j.jsxs)(l.Main,{scrollView:!0,children:[Object(j.jsx)(l.Header,{primary:"Aragon DAO",secondary:Object(j.jsx)(l.DropDown,{items:O,selected:s,onChange:h})}),Object(j.jsxs)("div",{children:["total: ",t.length]}),Object(j.jsx)(l.Box,{children:Object(j.jsx)("table",{children:Object(j.jsxs)("tbody",{children:[Object(j.jsxs)("tr",{children:[Object(j.jsx)("td",{children:Object(j.jsx)("b",{children:"Date"})}),Object(j.jsx)("td",{children:Object(j.jsx)("b",{children:"TX hash"})}),Object(j.jsx)("td",{children:Object(j.jsx)("b",{children:"ENS name"})})]},"header"),t.map((function(e,n){return Object(j.jsx)(k,{hash:e.hash,timestamp:e.timestamp,data:e.data,networkName:O[s]},n)}))]})})})]})})})},w=function(e){e&&e instanceof Function&&t.e(3).then(t.bind(null,356)).then((function(n){var t=n.getCLS,r=n.getFID,a=n.getFCP,i=n.getLCP,c=n.getTTFB;t(e),r(e),a(e),i(e),c(e)}))};c.a.render(Object(j.jsx)(a.a.StrictMode,{children:Object(j.jsx)(y,{})}),document.getElementById("root")),w()}},[[354,1,2]]]);
//# sourceMappingURL=main.afe3d301.chunk.js.map