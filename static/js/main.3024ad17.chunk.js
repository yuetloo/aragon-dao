(this["webpackJsonparagon-dao"]=this["webpackJsonparagon-dao"]||[]).push([[0],{182:function(e,t,n){},186:function(e,t){},354:function(e,t,n){"use strict";n.r(t);var a=n(1),r=n.n(a),c=n(31),s=n.n(c),i=(n(182),n(10)),o=n.n(i),d=n(124),l=n(128),p=n(77),u=n(358),h=new Map([["ArbitrumTestnet",{rpcUrl:"https://rinkeby.arbitrum.io/rpc",explorerUrl:"https://testnet.arbiscan.io",apiUrl:"https://api-testnet.arbiscan.io/api",apiKey:"4GJTTHSHGA5T1HYR5FPWYF8Q3QEERGK2ZM",aragonIdAddress:"0x9060373BD2Eaf09965E1c6791348941F89C8Bd5a"}],["Polygon",{rpcUrl:"https://polygon-mainnet.g.alchemy.com/v2/SY5Q3m-zAgxioTcOuGcAmJGns4JHYtmV",explorerUrl:"https://polygonscan.com",apiUrl:"https://api.polygonscan.com/api",apiKey:"2TQMPNQB5UPFE1IVIW53ZBB1WVXQD6A29P",aragonIdAddress:"0xB1b9fB937A11873380b3B87a1eF8063a66e54822"}],["Mumbai",{rpcUrl:"https://polygon-mumbai.g.alchemy.com/v2/hk9vh9U3GZGWC8Un2i0-ICRoOJkCUQg_",explorerUrl:"https://mumbai.polygonscan.com",apiUrl:"https://api-testnet.polygonscan.com/api",apiKey:"2TQMPNQB5UPFE1IVIW53ZBB1WVXQD6A29P",aragonIdAddress:"0xB0CeC6F20Ea617D0CdeFef6521AaD99d21876Ad5"}],["Ethereum",{rpcUrl:"https://mainnet.infura.io/v3/7c338dd2f00a443c906e6f081cf11b07",explorerUrl:"https://etherscan.io",apiUrl:"https://api.etherscan.io/api",apiKey:"HCDV8YBBWDK369IPAA8QMBE2DIEP94CEB7",aragonIdAddress:"0x546aA2EaE2514494EeaDb7bbb35243348983C59d"}]]);function b(e){var t=h.get(e);return t?"".concat(t.apiUrl,"?")+"module=logs&action=getLogs&fromBlock=186100"+"&address=".concat(t.aragonIdAddress)+"&topic0=".concat("0xe27a5a369e0d2c5056ccfcbd5f83f145f43350142d42aaf46ff9a9e461d543df")+"&apikey=".concat(t.apiKey):""}function m(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:"",n=h.get(e);return n?"".concat(n.explorerUrl,"/tx/").concat(t):""}var j=n(40),f=["function newTokenAndInstance(\n  string _tokenName,\n  string _tokenSymbol,\n  string id,\n  address[] _holders,\n  uint256[] _stakes,\n  uint64[3] _votingSettings,\n  uint64 _financePeriod,\n  bool _useAgentAsVault\n)","function newInstance(\n  string id,\n  address[] memory _holders,\n  uint256[] memory _stakes,\n  uint64[3] memory _votingSettings,\n  uint64 _financePeriod,\n  bool _useAgentAsVault\n)"],g=function(e){return e+".aragonid.eth"},x=Array.from(h.keys());var O=function(){var e=Object(a.useState)([]),t=Object(l.a)(e,2),n=t[0],r=t[1],c=Object(a.useState)(0),s=Object(l.a)(c,2),i=s[0],O=s[1];Object(a.useEffect)((function(){function e(){return e=Object(d.a)(o.a.mark((function e(){var t,n,a,c,s,l,p,m,j;return o.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(t=x[i],n=h.get(t)){e.next=4;break}return e.abrupt("return");case 4:return a=new u.a.JsonRpcProvider(n.rpcUrl),c=new u.b.Interface(f),e.next=8,fetch(b(t),{method:"GET",headers:{"Content-Type":"application/json"}});case 8:return s=e.sent,l=c.getSighash("newTokenAndInstance"),p=c.getSighash("newInstance"),e.next=13,s.json();case 13:return m=e.sent,e.next=16,Promise.all(m.result.map(function(){var e=Object(d.a)(o.a.mark((function e(t){var n,r,s,i,d;return o.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return n=t.transactionHash,r=new Date(1e3*parseInt(t.timeStamp)),e.next=4,a.getTransaction(n);case 4:if(!(s=e.sent).data){e.next=12;break}if(!s.data.startsWith(l)){e.next=9;break}return i=c.decodeFunctionData("newTokenAndInstance",s.data),e.abrupt("return",{hash:n,name:g(i.id),timestamp:r});case 9:if(!s.data.startsWith(p)){e.next=12;break}return d=c.decodeFunctionData("newInstance",s.data),e.abrupt("return",{hash:n,name:g(d.id),timestamp:r});case 12:return e.abrupt("return",{hash:n,timestamp:r,blockNumber:parseInt(t.blockNumber)});case 13:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}()));case 16:j=e.sent,r(j.filter((function(e){var t=e.name;return Boolean(t)})));case 18:case"end":return e.stop()}}),e)}))),e.apply(this,arguments)}!function(){e.apply(this,arguments)}()}),[i]);var v=Object(a.useCallback)((function(e){O(e),r([])}),[]);return Object(j.jsx)("div",{className:"scroll-view-container",children:Object(j.jsx)("div",{className:"scroll-view",children:Object(j.jsxs)(p.Main,{scrollView:!0,children:[Object(j.jsx)(p.Header,{primary:"Aragon DAO",secondary:Object(j.jsx)(p.DropDown,{placeholder:"ArbitrumTestnet",items:x,selected:i,onChange:v})}),Object(j.jsxs)("div",{children:["total: ",n.length]}),Object(j.jsx)(p.Box,{children:Object(j.jsx)("table",{children:Object(j.jsxs)("tbody",{children:[Object(j.jsxs)("tr",{children:[Object(j.jsx)("td",{children:Object(j.jsx)("b",{children:"Date"})}),Object(j.jsx)("td",{children:Object(j.jsx)("b",{children:"TX hash"})}),Object(j.jsx)("td",{children:Object(j.jsx)("b",{children:"ENS name"})})]}),n.map((function(e,t){var n;return Object(j.jsxs)("tr",{children:[Object(j.jsx)("td",{children:null===(n=e.timestamp)||void 0===n?void 0:n.toDateString()}),Object(j.jsx)("td",{children:Object(j.jsx)(p.Link,{href:m(x[i],e.hash),children:e.hash})}),Object(j.jsx)("td",{children:Object(j.jsxs)("span",{children:[" ",e.name?e.name:""]})})]},t)}))]})})})]})})})},v=function(e){e&&e instanceof Function&&n.e(3).then(n.bind(null,359)).then((function(t){var n=t.getCLS,a=t.getFID,r=t.getFCP,c=t.getLCP,s=t.getTTFB;n(e),a(e),r(e),c(e),s(e)}))};s.a.render(Object(j.jsx)(r.a.StrictMode,{children:Object(j.jsx)(O,{})}),document.getElementById("root")),v()}},[[354,1,2]]]);
//# sourceMappingURL=main.3024ad17.chunk.js.map